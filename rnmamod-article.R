# Generated by `rjournal_pdf_article()` using `knitr::purl()`: do not edit by hand
# Please edit rnmamod-article.Rmd to modify this file

## ----setup, include=FALSE-----------------------------------------------------
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE)
library(rnmamod)
library(plotly)
library(ggplot2)
library(palmerpenguins)


## ----table-one-interactive, eval = knitr::is_html_output(), layout = "l-body-outset"----
#> t1 <- data.frame(pkg = c("bnma", "gemtc", "metapack",
#>                          paste0("multinma", kableExtra::footnote_marker_number(1)), "netmeta",
#>                          "NMADiagT", paste0("nmaINLA", kableExtra::footnote_marker_number(2)),
#>                          "NMAoutlier", "nmaplateplot",
#>                          paste0("nmarank", kableExtra::footnote_marker_number(3)),
#>                          paste0("nmathresh", kableExtra::footnote_marker_number(4)), "pcnetmeta"),
#> 
#>                  bayesian = c("X", "X", "X", "X", "", "X", "X", "", "X", "X", "X", "X"),
#> 
#>                  frequentist = c("", "", "", "", "X", "", "", "X", "X", "X", "X", ""),
#> 
#>                  #exact = c("X", "X", "", "X", "", "X", "X", "", "X", "X", "X","X"),
#> 
#>                  #approx = c("", "X", "X", "", "X", "", "", "X", "X", "X", "X", ""),
#> 
#>                  contrast = c("X", "X", "X", "X", "X", "", "X", "X", "X", "X", "X", ""),
#> 
#>                  armbased = c("", "", "", "", "", "X", "", "", "", "", "", "X"),
#> 
#>                  widescope = c("X", "X", "", "X", "X", "", "X", "", "", "", "", "X"),
#> 
#>                  narrowscope = c("", "", "X", "", "", "X", "", "X", "X", "X", "X", ""),
#> 
#>                  aggregate = c("X", "X", "X", "", "X", "X", "X", "X", "X", "X", "X", "X"),
#> 
#>                  mixture = c("", "", "", "X", "", "", "", "", "", "", "", ""))
#> knitr::kable(t1,
#>              caption = "Features of R packages for network meta-analysis (CRAN Task View)",
#>              col.names = c("", "Bayesian", "Frequentist", #"Exact", "Normal approx.",
#>                            "Contrast", "Arm", "Wide", "Narrow", "AD", "AD & IPD"),
#>              align = "lcccccccc",
#>              format = "html",
#>              escape = FALSE) %>%
#>   kableExtra::row_spec(0, bold = TRUE) %>%
#>   kableExtra::kable_styling(font_size = 7) %>%
#>   kableExtra::add_header_above(c("Package" = 1, "Analysis" = 2, #"Input data distribution" = 2,
#>                                  "Modeling approach" = 2, "Scope breadth" = 2, "Outcome structure" = 2),
#>                                bold = TRUE) %>%
#>   #kableExtra::kable_classic(full_width = F) %>%
#>       #kable_styling(bootstrap_options = c("striped", "hover"), full_width = FALSE) %>%
#>       #add_indent(c(7,8)) %>%
#>   kableExtra::footnote(number = c("Estimation using the probabilistic programming language Stan.",
#>                                   "Use of integrated nested Laplace approximation.",
#>                                   "Mainly frequentist-driven but can be easily applied to Bayesian results (Papakonstantinou et al. 2022).",
#>                                   "Mainly Bayesian-driven but can be naturally applied to the frequentist framework (Phillippo et al. 2018)."),
#>                        general = "AD, aggregate data; IPD, individual patient data.",
#>                        footnote_as_chunk = FALSE)


## ----table-one, eval = knitr::is_latex_output()-------------------------------
t1 <- data.frame(pkg = c("bnma", "gemtc", "metapack", 
                         paste0("multinma", kableExtra::footnote_marker_number(1)), "netmeta", 
                         "NMADiagT", paste0("nmaINLA", kableExtra::footnote_marker_number(2)),
                         "NMAoutlier", "nmaplateplot", 
                         paste0("nmarank", kableExtra::footnote_marker_number(3)),
                         paste0("nmathresh", kableExtra::footnote_marker_number(4)), "pcnetmeta"),
                         
                 bayesian = c("X", "X", "X", "X", "", "X", "X", "", "X", "X", "X", "X"),
                 
                 frequentist = c("", "", "", "", "X", "", "", "X", "X", "X", "X", ""), 
                 
                 #exact = c("X", "X", "", "X", "", "X", "X", "", "X", "X", "X","X"),
                 
                 #approx = c("", "X", "X", "", "X", "", "", "X", "X", "X", "X", ""),
                 
                 contrast = c("X", "X", "X", "X", "X", "", "X", "X", "X", "X", "X", ""),
                 
                 armbased = c("", "", "", "", "", "X", "", "", "", "", "", "X"),
                 
                 widescope = c("X", "X", "", "X", "X", "", "X", "", "", "", "", "X"),
                 
                 narrowscope = c("", "", "X", "", "", "X", "", "X", "X", "X", "X", ""),
                 
                 aggregate = c("X", "X", "X", "", "X", "X", "X", "X", "X", "X", "X", "X"),
                 
                 mixture = c("", "", "", "X", "", "", "", "", "", "", "", ""))
knitr::kable(t1,
             caption = "Features of R packages for network meta-analysis (CRAN Task View)",
             col.names = c("", "Bayesian", "Frequentist", #"Exact", "Normal approx.",
                           "Contrast", "Arm", "Wide", "Narrow", "AD", "AD & IPD"),
             align = "lcccccccc",
             format = "latex",
             escape = TRUE) %>% 
  kableExtra::row_spec(0, bold = TRUE) %>%
  kableExtra::kable_styling(font_size = 7) %>%
  kableExtra::add_header_above(c("Package" = 1, "Analysis" = 2, #"Input data distribution" = 2,
                                 "Modeling approach" = 2, "Scope breadth" = 2, "Outcome structure" = 2), 
                               bold = TRUE) %>% 
  #kableExtra::kable_classic(full_width = F) %>%
      #kable_styling(bootstrap_options = c("striped", "hover"), full_width = FALSE) %>%
      #add_indent(c(7,8)) %>% 
  kableExtra::footnote(number = c("Estimation using the probabilistic programming language Stan.", 
                                  "Use of integrated nested Laplace approximation.",
                                  "Mainly frequentist-driven but can be easily applied to Bayesian results (Papakonstantinou et al. 2022).",
                                  "Mainly Bayesian-driven but can be naturally applied to the frequentist framework (Phillippo et al. 2018)."),
                       general = "AD, aggregate data; IPD, individual patient data.",
                       footnote_as_chunk = FALSE)


## ----penguins-alison, out.width = "100%", out.height = "30%", fig.cap = "Artwork by \\@allison\\_horst", fig.alt="A picture of three different penguins with their species: Chinstrap, Gentoo, and Adelie. "----
knitr::include_graphics("penguins.png")


## ----penguins-plotly, echo = TRUE, fig.height = 5, fig.cap="A basic interactive plot made with the plotly package on palmer penguin data. Three species of penguins are plotted with bill depth on the x-axis and bill length on the y-axis. When hovering on a point, a tooltip will show the exact value of the bill depth and length for that point, along with the species name.", include=knitr::is_html_output(), eval=knitr::is_html_output(), fig.alt = "A scatterplot of bill length against bill depth, both measured in millimetre. The three species are shown in different colours and loosely forms three clusters. Adelie has small bill length and large bill depth, Gentoo has small bill depth but large bill length, and Chinstrap has relatively large bill depth and bill length."----
#> p <- penguins %>%
#>   ggplot(aes(x = bill_depth_mm, y = bill_length_mm,
#>              color = species)) +
#>   geom_point()
#> ggplotly(p)


## ----penguins-ggplot, echo = TRUE, fig.height = 5, fig.cap="A basic non-interactive plot made with the ggplot2 package on palmer penguin data. Three species of penguins are plotted with bill depth on the x-axis and bill length on the y-axis. Visit the online article to access the interactive version made with the plotly package.", include=knitr::is_latex_output(), eval=knitr::is_latex_output()----
penguins %>% 
  ggplot(aes(x = bill_depth_mm, y = bill_length_mm, 
             color = species)) + 
  geom_point()

